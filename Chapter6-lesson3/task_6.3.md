# Глава 6. Практическое задание 3

1. Добавьте фичу сохранения отчётов в MongoDB. Для этого перейдите в [Telegram бота](https://t.me/practicumDevOpsHelperBot), выберите `6 глава` и нажмите `Отправь изменения в репозиторий`. Вам надо указать ссылку на ваш репозиторий `sausage-store` с исходным кодом приложения сосисочной и выбрать `Нереляционные отношения`.  

2. Для подключения к базе данных Вениамина используйте адрес и креды MongoDB, полученные от куратора. Пропишите их в unit-файле :
```shell
# подставьте значения переменных
# PostgreSQL
--spring.datasource.url=jdbc:postgresql://$PSQL_HOST:$PSQL_PORT/$PSQL_DBNAME
--spring.datasource.username=$PSQL_USER
--spring.datasource.password=$PSQL_PASSWORD

# MongoDB
--spring.data.mongodb.uri=mongodb://${MONGO_USER}:${MONGO_PASSWORD}@${MONGO_HOST}:27018/${MONGO_DATABASE}?tls=true 
```

3. Пропишите настройки бэкенда сосисочной, необходимые для подключения к новым базам данных. Не забывайте о том, что настройки желательно передавать через параметры командной строки и переменные окружения при запуске приложения в `systemd`.  

4. Убедитесь, что приложение собирается, запускается и сохраняет отчёты в нужную БД в MongoDB.  

5. [**Бонусное задание — нужно залезть в код**] Проанализируйте приложение и измените период сохранения отчётов в MongoDB с 1 минуты на 5 минут.  

6. Создайте в GitLab Merge Request с изменениями. Ссылку на Merge Request отправьте наставнику.

Внимание: чтобы при переходе на общую базу данных в будущем Flyway не учинил там погром, как только завершите Главу 6, отключите его, используя переменную окружения `SPRING_FLYWAY_ENABLED=false` при запуске бэкенда.  
