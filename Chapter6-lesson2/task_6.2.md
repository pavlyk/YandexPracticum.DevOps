# Глава 6. Практическое задание 2

1. Создайте новую ветку `flyway` в репозитории приложения.  
2. Добавьте в зависимости бэкенда Flyway в файл `pom.xml`.
3. Создайте в бэкенде папку для миграционных скриптов `src/main/resources/db/migration`.
4. Соорудите для Flyway три SQL-файла, которые создадут:
* таблицы `order_product`, `orders`, `product`:  
```sql
create table order_product
(
    quantity integer not null,
    order_id bigint not null,
    product_id bigint not null

);

create table orders
(
    id bigint generated by default as identity,
    date_created date,
    status varchar(255)
);

create table product
(
    id bigint generated by default as identity,
    name varchar(255) not null,
    picture_url varchar(255),
    price double precision
); 
```
* изменения в таблице product размера колонки `name` на 20, а колонки `picture_url` на 100.  
* выдачу прав `read_user` — на чтение, `write_user` — чтение и запись, а `admin_user` — все привилегии в нашей базе.
* индексы, которые вы придумали в предыдущем уроке.  
Постарайтесь использовать скрипты Repeatable и Versioned типов. Подумайте, в каком порядке должны идти эти скрипты, а также как их правильно назвать.

6. Убедитесь, что backend успешно собирается.  
7. Создайте **Merge Request** в GitLab со всеми изменениями в `master` и ссылку на него отправьте наставнику.
